jQuery(function(){"use strict";function e(){var a,n=[],c=$(".js-contacts-slider");c.on("beforeChange",function(e,s,t,o){l(o)}),(a=new ymaps.Map("map",{center:[56.326887,44.005986],zoom:13,controls:[]})).behaviors.disable("scrollZoom"),$(".js-map__zoom").on("click",function(){var e=a.getZoom();$(this).hasClass("_in")?e++:e--,a.setZoom(e,{checkZoomRange:!0,duration:200})});var i=ymaps.templateLayoutFactory.createClass('<div class="placemark {{ properties.className }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.202 11.113" class=""><path d="M4.101 11.113c2.734-3.12 4.101-5.442 4.101-6.968C8.202 1.855 6.366 0 4.101 0 1.836 0 0 1.856 0 4.145c0 1.526 1.367 3.849 4.101 6.968z" fill="#fff"></path></svg><span>{{ properties.content }}</span></div>'),r=$(".js-contacts-scroller__link").length;function l(t){a.geoObjects.each(function(e){if(e.properties.get("slide")==t){var s=e.geometry.getCoordinates();e.properties.set("className","_dot _primary"),a.panTo(s)}else e.properties.set("className","_dot")})}$(".js-contacts-scroller__link").each(function(o){var e=$(this).data("geo");e&&ymaps.geocode(e,{results:1}).then(function(e){var s=e.geoObjects.get(0).geometry.getCoordinates(),t=new ymaps.Placemark(s,{className:"_dot",slide:o},{iconLayout:i,iconShape:{type:"Rectangle",coordinates:[[-15.5,-42],[15.5,0]]}});a.geoObjects.add(t),t.events.add("click",function(e){var s=e.get("target").properties.get("slide");c.slick("slickGoTo",s)}),n.push(t),o==r-1&&l(0)})})}$(document).ready(function(){!function(){var t=$(".js-contacts-slider"),n=$(".js-contacts-scroller");t.slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,fade:!0,mobileFirst:!0,responsive:[{breakpoint:appConfig.breakpoint.md-1,settings:{dots:!1}}]});var c=[],e=parseInt(n.css("padding-left"))+n.offset().left;n.find(".js-contacts-scroller__link").each(function(s){c.push($(this).offset().left-e),$(this).on("click",function(e){e.preventDefault(),t.slick("slickGoTo",s)})}),t.on("beforeChange",function(e,s,t,o){n.find("._active").removeClass("_active");var a=$(n.find(".js-contacts-scroller__link")[o]);a.addClass("_active"),3<c.length&&n.animate({scrollLeft:c[o]},500)})}(),ymaps.ready(e)})});