jQuery(function(){"use strict";function a(){if(void 0!==app.builderMapData&&0!==app.builderMapData.length){var e;(e=new ymaps.Map("map",{center:[56.326887,44.005986],zoom:13,controls:[]})).behaviors.disable("scrollZoom");for(var a=ymaps.templateLayoutFactory.createClass('<div class="placemark {{ properties.className }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.202 11.113" class=""><path d="M4.101 11.113c2.734-3.12 4.101-5.442 4.101-6.968C8.202 1.855 6.366 0 4.101 0 1.836 0 0 1.856 0 4.145c0 1.526 1.367 3.849 4.101 6.968z" fill="#fff"></path></svg><span></span></div>'),o=ymaps.templateLayoutFactory.createClass('<div class="map__balloon _object">\n                        <span class="map__balloon__logo"><img src="{{ properties.img }}"></span>\n                        <span class="map__balloon__content">\n                            <span class="map__balloon__title">{{ properties.title }}</span>\n                            <a href="/{{ properties.link }}" class="map__balloon__link">Подробнее</a>\n                        </span>\n                    </div>'),t=0,s=app.builderMapData.length;t<s;t++)for(var p=0,n=app.builderMapData[t].placemarks.length;p<n;p++){var l=new ymaps.Placemark(app.builderMapData[t].placemarks[p].coords,{className:"_dot _primary",img:app.builderMapData[t].img,title:app.builderMapData[t].title,link:app.builderMapData[t].link},{iconLayout:a,iconShape:{type:"Rectangle",coordinates:[[-15.5,-42],[15.5,0]]},hideIconOnBalloonOpen:!1,balloonLayout:o,balloonCloseButton:!1});e.geoObjects.add(l),l.events.add("click",function(a){e.geoObjects.each(function(a,e){a.properties.set("className","_dot _primary")}),a.get("target").properties.set("className","_dot")})}e.setBounds(e.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:50}).then(function(){1==e.geoObjects.getLength()&&e.setZoom(13)},this),$(".js-map__zoom").on("click",function(){var a=e.getZoom();$(this).hasClass("_in")?a++:a--,e.setZoom(a,{checkZoomRange:!0,duration:200})})}else $(".builder-map").remove()}$(document).ready(function(){ymaps.ready(a)})});