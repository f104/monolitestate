jQuery(function(){"use strict";function a(){if(void 0!==app.builderMapData&&0!==app.builderMapData.length){for(var a=!1,e=0,o=app.builderMapData.length;e<o;e++)if(app.builderMapData[e].placemarks.length){a=!0;break}if(a){var t;(t=new ymaps.Map("map",{center:[56.326887,44.005986],zoom:13,controls:[]})).behaviors.disable("scrollZoom");var s=ymaps.templateLayoutFactory.createClass('<div class="placemark {{ properties.className }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.202 11.113" class=""><path d="M4.101 11.113c2.734-3.12 4.101-5.442 4.101-6.968C8.202 1.855 6.366 0 4.101 0 1.836 0 0 1.856 0 4.145c0 1.526 1.367 3.849 4.101 6.968z" fill="#fff"></path></svg><span></span></div>'),p=ymaps.templateLayoutFactory.createClass('<div class="map__balloon _object">\n                        <span class="map__balloon__logo"><img src="{{ properties.img }}"></span>\n                        <span class="map__balloon__content">\n                            <span class="map__balloon__title">{{ properties.title }}</span>\n                            <a href="/{{ properties.link }}" class="map__balloon__link">Подробнее</a>\n                        </span>\n                    </div>');for(e=0,o=app.builderMapData.length;e<o;e++)for(var l=0,n=app.builderMapData[e].placemarks.length;l<n;l++){var r=new ymaps.Placemark(app.builderMapData[e].placemarks[l].coords,{className:"_dot _primary",img:app.builderMapData[e].img,title:app.builderMapData[e].title,link:app.builderMapData[e].link},{iconLayout:s,iconShape:{type:"Rectangle",coordinates:[[-15.5,-42],[15.5,0]]},hideIconOnBalloonOpen:!1,balloonLayout:p,balloonCloseButton:!1});t.geoObjects.add(r),r.events.add("click",function(a){t.geoObjects.each(function(a,e){a.properties.set("className","_dot _primary")}),a.get("target").properties.set("className","_dot")})}t.setBounds(t.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:50}).then(function(){1==t.geoObjects.getLength()&&t.setZoom(13)},this),$(".js-map__zoom").on("click",function(){var a=t.getZoom();$(this).hasClass("_in")?a++:a--,t.setZoom(a,{checkZoomRange:!0,duration:200})})}else $(".builder-map").remove()}else $(".builder-map").remove()}$(document).ready(function(){ymaps.ready(a)})});